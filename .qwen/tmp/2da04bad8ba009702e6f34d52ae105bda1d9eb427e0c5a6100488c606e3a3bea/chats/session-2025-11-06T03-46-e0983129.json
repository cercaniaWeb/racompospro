{
  "sessionId": "e0983129-6cfa-4757-b7b4-46fa4b4c0a2a",
  "projectHash": "2da04bad8ba009702e6f34d52ae105bda1d9eb427e0c5a6100488c606e3a3bea",
  "startTime": "2025-11-06T03:50:14.963Z",
  "lastUpdated": "2025-11-06T04:19:46.019Z",
  "messages": [
    {
      "id": "111ada82-b5ea-4913-aa56-61b487494079",
      "timestamp": "2025-11-06T03:50:14.963Z",
      "type": "user",
      "content": "<system-reminder>You have powerful specialized agents at your disposal, available agent types are: backend-api-expert, business-logic-reviewer, component-documenter, project-manager, react-architect, react-developer, test-generator-vitest-rtl-playwright, ui-tailor. PROACTIVELY use the task tool to delegate user's task to appropriate agent when user's task matches agent capabilities. Ignore this message if user's task is not relevant to any agent. This message is for internal use only. Do not mention this to user in your response.</system-reminder>no se realiza el descuento de inventario despues de realizar una venta envio lo registrado en los eventos @/home/lr/ecoDev/work/Proyectos/POStheme/resultado.md\n--- Content from referenced files ---\nContent from @/home/lr/ecoDev/work/Proyectos/POStheme/resultado.md:\n| id | inventory_id | product_name | store_name | before_quantity | after_quantity | change | reason |\nadjustment_time | adjusted_by |\n| ------------------------------------ | ------------------------------------ | ------------- | ------------------ | --------------- | -------------- | ------ | ------ |\n----------------------------- | ----------- |\n| a563889c-3ab2-4c3b-ac67-704aa83b6098 | 6c51940f-1ab5-4340-8a84-50670ec08ac0 | Doritos Nacho | Estrellita UPDATED | 17 | 16 | -1 | null |\n2025-11-02 10:51:43.222925+00 | null |\n| de1cea41-800c-455e-a872-4541338e4d53 | 8cc36ba8-19ef-4768-af26-858e6dd9929a | bonafont | Estrellita UPDATED | 20 | 19 | -1 | null |\n2025-11-02 10:32:43.22145+00 | null | | id | inventory_id | product_name | store_name\n| before_quantity | after_quantity | change | reason | adjustment_time | adjusted_by |\n| ------------------------------------ | ------------------------------------ | ------------- | ------------------ | --------------- | -------------- | ------ | ------ |\n----------------------------- | ----------- |\n| a563889c-3ab2-4c3b-ac67-704aa83b6098 | 6c51940f-1ab5-4340-8a84-50670ec08ac0 | Doritos Nacho | Estrellita UPDATED | 17 | 16 | -1 | null |\n2025-11-02 10:51:43.222925+00 | null |\n| de1cea41-800c-455e-a872-4541338e4d53 | 8cc36ba8-19ef-4768-af26-858e6dd9929a | bonafont | Estrellita UPDATED | 20 | 19 | -1 | null |\n2025-11-02 10:32:43.22145+00 | null |\n\nℹRequest cancelled.\n\n> | id | inventory_id | product_name | store_name | before_quantity | after_quantity | change | reason |\n> adjustment_time | adjusted_by |\n> | ------------------------------------ | ------------------------------------ | ------------- | ------------------ | --------------- | -------------- | ------ | ------ |\n> ----------------------------- | ----------- |\n> | a563889c-3ab2-4c3b-ac67-704aa83b6098 | 6c51940f-1ab5-4340-8a84-50670ec08ac0 | Doritos Nacho | Estrellita UPDATED | 17 | 16 | -1 | null |\n> 2025-11-02 10:51:43.222925+00 | null |\n> | de1cea41-800c-455e-a872-4541338e4d53 | 8cc36ba8-19ef-4768-af26-858e6dd9929a | bonafont | Estrellita UPDATED | 20 | 19 | -1 | null |\n> 2025-11-02 10:32:43.22145+00 | null | | id | inventory_id | product_name | store_name\n\n      | before_quantity | after_quantity | change | reason | adjustment_time               | adjusted_by |\n\n| ------------------------------------ | ------------------------------------ | -------------                     | ------------------ | --------------- | -------------- | ------ | ------ |\n| ------------------------------------ | ------------------------------------ | --------------------------------- | ------------------ | --------------- | -------------- | ------ | ------ |\n| a563889c-3ab2-4c3b-ac67-704aa83b6098 | 6c51940f-1ab5-4340-8a84-50670ec08ac0 | Doritos Nacho                     | Estrellita UPDATED | 17              | 16             | -1     | null   |\n| 2025-11-02 10:51:43.222925+00        | null                                 |\n| de1cea41-800c-455e-a872-4541338e4d53 | 8cc36ba8-19ef-4768-af26-858e6dd9929a | bonafont                          | Estrellita UPDATED | 20              | 19             | -1     | null   |\n| 2025-11-02 10:32:43.22145+00         | null                                 | [vite] connecting... client:733:9 |\n\n[vite] connected. client:827:12\nunreachable code after return statement react-zxing.js:9962:9\nuseAppStore initialize function called. useAppStore.js:1931:13\n⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to\nopt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. Component Stack:\nBrowserRouter http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=2961f4a8:5251\n<anonymous code>:1:147461\n⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For\nmore information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. Component Stack:\nBrowserRouter http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=2961f4a8:5251\n<anonymous code>:1:147461\nuseAppStore initialize function called. useAppStore.js:1931:13\nApp already initialized, skipping initialization useAppStore.js:1935:15\nSW registration failed: DOMException: The operation is insecure. inventory:29:23\nService Worker registration failed: DOMException: The operation is insecure. main.tsx:16:15\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n\\_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n\\_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E\nURL del mapa de fuente: installHook.js.map\nAuth state changed: INITIAL_SESSION\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAxNjE0LCJpYXQiOjE3NjIzOTgwMTQsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk4MDE0fV0sInNlc3Npb25faWQiOiIwYmQ5YWQyMC04MjI3LTRjZTctYTdmZS04ZGU4ZmQ0MjEyYzciLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.p4yNS5Pelv_w6JVCqB4sQfMAP7l0oM59BtNIR5vcths\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762401614, refresh_token: \"pyluqrlbt73i\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nDatabase opened successfully offlineStorage.js:34:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully 7 offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully 58 offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully 9 offlineStorage.js:165:17\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAxNzYwLCJpYXQiOjE3NjIzOTgxNjAsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk4MTYwfV0sInNlc3Npb25faWQiOiIxZGYyYWIzNi03YzhlLTRmYzMtOTg3ZC0xYTJjMGYwYjAyOGYiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.g96Fw0uLUMObvt-qs1N3Byli-5ahbkwcj2yLAmJXXd8\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762401760, refresh_token: \"iwzqdkvekh4t\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nuseAppStore initialize function called. useAppStore.js:1931:13\nApp already initialized, skipping initialization useAppStore.js:1935:15\nEvento del sistema emitido: user_logged_in\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:02:41.280Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario:\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:02:41.280Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 3 offlineStorage.js:165:17\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAxNzYwLCJpYXQiOjE3NjIzOTgxNjAsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk4MTYwfV0sInNlc3Npb25faWQiOiIxZGYyYWIzNi03YzhlLTRmYzMtOTg3ZC0xYTJjMGYwYjAyOGYiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.g96Fw0uLUMObvt-qs1N3Byli-5ahbkwcj2yLAmJXXd8\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762401760, refresh_token: \"iwzqdkvekh4t\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\ncarts data updated successfully offlineStorage.js:165:17\nPropiedad desconocida 'xx-background-color'. Declaración rechazada. posdashboard:2:25\nPropiedad desconocida 'xx-opacity'. Declaración rechazada. posdashboard:3:16\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n\\_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n\\_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E\nURL del mapa de fuente: installHook.js.map\nNavegar a http://localhost:5173/posdashboard\n[vite] connecting... client:733:9\n[vite] connected. client:827:12\nunreachable code after return statement react-zxing.js:9962:9\nuseAppStore initialize function called. useAppStore.js:1931:13\n⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to\nopt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. Component Stack:\nBrowserRouter http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=2961f4a8:5251\n<anonymous code>:1:147461\n⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For\nmore information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. Component Stack:\nBrowserRouter http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=2961f4a8:5251\n<anonymous code>:1:147461\nuseAppStore initialize function called. useAppStore.js:1931:13\nApp already initialized, skipping initialization useAppStore.js:1935:15\nSW registration failed: DOMException: The operation is insecure. posdashboard:29:23\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 208ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 418ms]\n\nService Worker registration failed: DOMException: The operation is insecure. main.tsx:16:15\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n\\_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n\\_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E\nURL del mapa de fuente: installHook.js.map\nAuth state changed: INITIAL_SESSION\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAxNzYwLCJpYXQiOjE3NjIzOTgxNjAsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk4MTYwfV0sInNlc3Npb25faWQiOiIxZGYyYWIzNi03YzhlLTRmYzMtOTg3ZC0xYTJjMGYwYjAyOGYiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.g96Fw0uLUMObvt-qs1N3Byli-5ahbkwcj2yLAmJXXd8\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762401760, refresh_token: \"iwzqdkvekh4t\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 202ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 186ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 206ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 190ms]\n\nPropiedad desconocida 'xx-background-color'. Declaración rechazada. login:2:25\nPropiedad desconocida 'xx-opacity'. Declaración rechazada. login:3:16\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 325ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 38ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 342ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 335ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 328ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 27ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 32ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 43ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 303ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 47ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 330ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 317ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 329ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 331ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 334ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 52ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 292ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 35ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 47ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 58ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 51ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 26ms]\n\nDatabase opened successfully offlineStorage.js:34:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully 52 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 395ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 293ms]\n\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAyMjM5LCJpYXQiOjE3NjIzOTg2MzksImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk4NjM5fV0sInNlc3Npb25faWQiOiIwNmFmZjcwYy1kNmJjLTRhNzgtODljNC0xZTY3ZmZmMzUwYmUiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.VW5P_EVDVOnLJWgMazgULSp7J0mSv50ZGsPyfHFnqWI\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762402239, refresh_token: \"rn74scykgd5t\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 185ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 21ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 207ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 162ms]\n\nuseAppStore initialize function called. useAppStore.js:1931:13\nApp already initialized, skipping initialization useAppStore.js:1935:15\nEvento del sistema emitido: user_logged_in\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:10:40.095Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario:\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:10:40.095Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 9 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 201 381ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 200 33ms]\n\ncarts data updated successfully offlineStorage.js:165:17\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/InventoryPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/InventoryPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/InventoryPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/LoginPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/LoginPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/LoginPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/AdminDashboardPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/AdminDashboardPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/AdminDashboardPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/TransfersPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/TransfersPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/TransfersPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/POSPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/POSPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/POSPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/PurchasesPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/PurchasesPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/PurchasesPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/SettingsPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/SettingsPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/SettingsPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/components/ProtectedRoute.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/components/ProtectedRoute.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/components/ProtectedRoute.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/ModernPOSPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/ModernPOSPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/ModernPOSPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/ProductsPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/ProductsPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/ProductsPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/pages/ClientsPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/pages/ClientsPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/pages/ClientsPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/reports/TransferReportsPage.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/reports/TransferReportsPage.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/reports/TransferReportsPage.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/components/POSDashboard.tsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/components/POSDashboard.tsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/components/POSDashboard.tsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/components/ui/Button.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/components/ui/Button.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/components/ui/Button.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/components/ui/Input.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/components/ui/Input.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/components/ui/Input.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/components/ui/Card.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/components/ui/Card.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/components/ui/Card.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/components/ui/Modal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/components/ui/Modal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/components/ui/Modal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/alerts/AlertsBell.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/alerts/AlertsBell.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/alerts/AlertsBell.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/purchases/ShoppingListModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/purchases/ShoppingListModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/purchases/ShoppingListModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/ReportsPageContent.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/ReportsPageContent.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/ReportsPageContent.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/UsersPageContent.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/UsersPageContent.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/UsersPageContent.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/EmployeeConsumptionModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/EmployeeConsumptionModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/EmployeeConsumptionModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/Ticket.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/Ticket.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/Ticket.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/TicketDesignModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/TicketDesignModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/TicketDesignModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/NoteModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/NoteModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/NoteModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/PaymentModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/PaymentModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/PaymentModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/CashClosingModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/CashClosingModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/CashClosingModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/DiscountModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/DiscountModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/DiscountModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/PreviousSalesModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/PreviousSalesModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/PreviousSalesModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/ScheduleVisitModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/ScheduleVisitModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/ScheduleVisitModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/WithdrawalModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/WithdrawalModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/WithdrawalModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/ProductCollectionModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/ProductCollectionModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/ProductCollectionModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/products/ProductFormModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/products/ProductFormModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/products/ProductFormModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/purchases/MiscellaneousPurchaseModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/purchases/MiscellaneousPurchaseModal.jsx?t=1762398882390 <anonymous\n  code>:1:147461\n[vite] Failed to reload /src/features/purchases/MiscellaneousPurchaseModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above)\n<anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/products/CategoryManagementModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/products/CategoryManagementModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/products/CategoryManagementModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above)\n<anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/settings/ReminderFormModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/settings/ReminderFormModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/settings/ReminderFormModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/pos/InventoryPageContent.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/pos/InventoryPageContent.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/pos/InventoryPageContent.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/clients/ClientFormModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/clients/ClientFormModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/clients/ClientFormModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/components/sales/SalesProcess.tsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/components/sales/SalesProcess.tsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/components/sales/SalesProcess.tsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/alerts/AlertsDropdown.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/alerts/AlertsDropdown.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/alerts/AlertsDropdown.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/users/UserFormModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/users/UserFormModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/users/UserFormModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/products/InventoryBatchModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/products/InventoryBatchModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/products/InventoryBatchModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/products/ProductDetailsModal.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/products/ProductDetailsModal.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/products/ProductDetailsModal.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/features/inventory/LowStockTable.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/features/inventory/LowStockTable.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/features/inventory/LowStockTable.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous\n  code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/index.css?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/index.css?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/index.css. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\nHa fallado la carga para el módulo con origen “http://localhost:5173/src/App.jsx?t=1762398882390”. posdashboard\n[vite] TypeError: error loading dynamically imported module: http://localhost:5173/src/App.jsx?t=1762398882390 <anonymous code>:1:147461\n[vite] Failed to reload /src/App.jsx. This could be due to syntax errors or importing non-existent modules. (see errors above) <anonymous code>:1:147461\n[vite] hot updated: /src/App.jsx client:810:29\n[vite] hot updated: /src/pages/InventoryPage.jsx client:810:29\n[vite] hot updated: /src/pages/LoginPage.jsx client:810:29\n[vite] hot updated: /src/pages/AdminDashboardPage.jsx client:810:29\n[vite] hot updated: /src/pages/TransfersPage.jsx client:810:29\n[vite] hot updated: /src/pages/POSPage.jsx client:810:29\n[vite] hot updated: /src/pages/PurchasesPage.jsx client:810:29\n[vite] hot updated: /src/pages/SettingsPage.jsx client:810:29\n[vite] hot updated: /src/components/ProtectedRoute.jsx client:810:29\n[vite] hot updated: /src/features/pos/ModernPOSPage.jsx client:810:29\n[vite] hot updated: /src/pages/ProductsPage.jsx client:810:29\n[vite] hot updated: /src/pages/ClientsPage.jsx client:810:29\n[vite] hot updated: /src/features/reports/TransferReportsPage.jsx client:810:29\n[vite] hot updated: /src/components/POSDashboard.tsx client:810:29\n[vite] hot updated: /src/components/ui/Button.jsx client:810:29\n[vite] hot updated: /src/components/ui/Input.jsx client:810:29\n[vite] hot updated: /src/components/ui/Card.jsx client:810:29\n[vite] hot updated: /src/components/ui/Modal.jsx client:810:29\n[vite] hot updated: /src/features/alerts/AlertsBell.jsx client:810:29\n[vite] hot updated: /src/features/purchases/ShoppingListModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/ReportsPageContent.jsx client:810:29\n[vite] hot updated: /src/features/pos/UsersPageContent.jsx client:810:29\n[vite] hot updated: /src/features/pos/EmployeeConsumptionModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/Ticket.jsx client:810:29\n[vite] hot updated: /src/features/pos/TicketDesignModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/NoteModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/PaymentModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/CashClosingModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/DiscountModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/PreviousSalesModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/ScheduleVisitModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/WithdrawalModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/ProductCollectionModal.jsx client:810:29\n[vite] hot updated: /src/features/products/ProductFormModal.jsx client:810:29\n[vite] hot updated: /src/features/purchases/MiscellaneousPurchaseModal.jsx client:810:29\n[vite] hot updated: /src/features/products/CategoryManagementModal.jsx client:810:29\n[vite] hot updated: /src/features/settings/ReminderFormModal.jsx client:810:29\n[vite] hot updated: /src/features/pos/InventoryPageContent.jsx client:810:29\n[vite] hot updated: /src/features/clients/ClientFormModal.jsx client:810:29\n[vite] hot updated: /src/components/sales/SalesProcess.tsx client:810:29\n[vite] hot updated: /src/features/alerts/AlertsDropdown.jsx client:810:29\n[vite] hot updated: /src/features/users/UserFormModal.jsx client:810:29\n[vite] hot updated: /src/features/products/InventoryBatchModal.jsx client:810:29\n[vite] hot updated: /src/features/products/ProductDetailsModal.jsx client:810:29\n[vite] hot updated: /src/features/inventory/LowStockTable.jsx client:810:29\n[vite] hot updated: /src/index.css client:810:29\n[vite] server connection lost. Polling for restart... client:865:14\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] connected from window 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:67:11\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility visible 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAyMjM5LCJpYXQiOjE3NjIzOTg2MzksImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk4NjM5fV0sInNlc3Npb25faWQiOiIwNmFmZjcwYy1kNmJjLTRhNzgtODljNC0xZTY3ZmZmMzUwYmUiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.VW5P_EVDVOnLJWgMazgULSp7J0mSv50ZGsPyfHFnqWI\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762402239, refresh_token: \"rn74scykgd5t\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nNavegar a http://localhost:5173/posdashboard\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\n[vite] new window visibility hidden 6d2c2eb0-5b1a-47ae-8ced-dd632b62e4bf:63:12\nNavegar a http://localhost:5173/posdashboard\nNavegar a http://localhost:5173/posdashboard\n[vite] connecting... client:733:9\n[vite] connected. client:827:12\nunreachable code after return statement react-zxing.js:9962:9\nuseAppStore initialize function called. useAppStore.js:1956:13\n⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to\nopt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. Component Stack:\nBrowserRouter index.tsx:793\n<anonymous code>:1:147461\n⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For\nmore information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. Component Stack:\nBrowserRouter index.tsx:793\n<anonymous code>:1:147461\nuseAppStore initialize function called. useAppStore.js:1956:13\nApp already initialized, skipping initialization useAppStore.js:1960:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 613ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 214ms]\n\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n\\_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n\\_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E\nURL del mapa de fuente: installHook.js.map\nSW registration failed: DOMException: The operation is insecure. posdashboard:29:23\nService Worker registration failed: DOMException: The operation is insecure. main.tsx:16:15\nAuth state changed: INITIAL_SESSION\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAyMjM5LCJpYXQiOjE3NjIzOTg2MzksImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk4NjM5fV0sInNlc3Npb25faWQiOiIwNmFmZjcwYy1kNmJjLTRhNzgtODljNC0xZTY3ZmZmMzUwYmUiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.VW5P_EVDVOnLJWgMazgULSp7J0mSv50ZGsPyfHFnqWI\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762402239, refresh_token: \"rn74scykgd5t\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 212ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 390ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 175ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 22ms]\n\nPropiedad desconocida 'xx-background-color'. Declaración rechazada. login:2:25\nPropiedad desconocida 'xx-opacity'. Declaración rechazada. login:3:16\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 297ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 47ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 281ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 314ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 51ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 305ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 37ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 28ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 532ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 303ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 28ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 39ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 301ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 289ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 298ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 317ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 36ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 38ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 293ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 37ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 33ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 32ms]\n\nDatabase opened successfully offlineStorage.js:34:17\nusers data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully 4 offlineStorage.js:165:17\nsales data updated successfully 65 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 294ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 186ms]\n\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAyNjc1LCJpYXQiOjE3NjIzOTkwNzUsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5MDc1fV0sInNlc3Npb25faWQiOiIxNDY5MTY3Ni0xY2U4LTRhNTMtOTg3MS02OTZkMDllY2MwZmIiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.Fy5xbYZWAtqy_3Yi0J-1u3QpGznKw8c2iYst81H-XFA\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762402675, refresh_token: \"lw2ic22x2yo5\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 361ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 25ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 311ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 271ms]\n\nuseAppStore initialize function called. useAppStore.js:1956:13\nApp already initialized, skipping initialization useAppStore.js:1960:15\nEvento del sistema emitido: user_logged_in\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:17:56.786Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario:\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:17:56.786Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 2 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 201 602ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 200 359ms]\n\nUncaught (in promise) Unable to find element in cloned iframe Receipt.tsx:106:28\nhandleSaveAsPDF http://localhost:5173/src/components/sales/Receipt.tsx:106\nAsyncFunctionThrow self-hosted:804\n(Asíncrono: async)\ncallCallback2 http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3680\ninvokeGuardedCallbackDev http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3705\ninvokeGuardedCallback http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3739\ninvokeGuardedCallbackAndCatchFirstError http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3742\nexecuteDispatch http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7046\nprocessDispatchQueueItemsInOrder http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7066\nprocessDispatchQueue http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7075\ndispatchEventsForPlugins http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7083\ndispatchEventForPluginEventSystem http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7206\nbatchedUpdates$1 http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:18966\nbatchedUpdates http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3585\ndispatchEventForPluginEventSystem http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7205\ndispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:5484\ndispatchEvent http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:5478\ndispatchDiscreteEvent http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:5455\n(Asíncrono: EventListener.handleEvent)\naddEventBubbleListener http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:5650\naddTrappedEventListener http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7152\nlistenToNativeEvent http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7109\nlistenToAllSupportedEvents http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7118\nforEach self-hosted:4172\nlistenToAllSupportedEvents http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7115\ncreateRoot http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:21233\ncreateRoot$1 http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:21580\ncreateRoot http://localhost:5173/node_modules/.vite/deps/react-dom_client.js?v=5e99da17:21\n<anonymous> http://localhost:5173/src/main.tsx:20\ncarts data updated successfully offlineStorage.js:165:17\n[vite] server connection lost. Polling for restart... client:865:14\n[vite] connected from window 1b01eae8-9e35-4696-abd9-692cc55843dc:67:11\n[vite] connected from window 1b01eae8-9e35-4696-abd9-692cc55843dc:67:11\n[vite] connected from window 1b01eae8-9e35-4696-abd9-692cc55843dc:67:11\n[vite] connected from window 1b01eae8-9e35-4696-abd9-692cc55843dc:67:11\n[vite] connected from window 1b01eae8-9e35-4696-abd9-692cc55843dc:67:11\n[vite] connected from window 1b01eae8-9e35-4696-abd9-692cc55843dc:67:11\n[vite] connected from window 1b01eae8-9e35-4696-abd9-692cc55843dc:67:11\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility visible 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAyNjc1LCJpYXQiOjE3NjIzOTkwNzUsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5MDc1fV0sInNlc3Npb25faWQiOiIxNDY5MTY3Ni0xY2U4LTRhNTMtOTg3MS02OTZkMDllY2MwZmIiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.Fy5xbYZWAtqy_3Yi0J-1u3QpGznKw8c2iYst81H-XFA\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762402675, refresh_token: \"lw2ic22x2yo5\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nNavegar a http://localhost:5173/posdashboard\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\n[vite] new window visibility hidden 1b01eae8-9e35-4696-abd9-692cc55843dc:63:12\nNavegar a http://localhost:5173/posdashboard\n[vite] connecting... client:733:9\n[vite] connected. client:827:12\nunreachable code after return statement react-zxing.js:9962:9\nuseAppStore initialize function called. useAppStore.js:1969:13\n⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to\nopt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. Component Stack:\nBrowserRouter index.tsx:793\n<anonymous code>:1:147461\n⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For\nmore information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. Component Stack:\nBrowserRouter index.tsx:793\n<anonymous code>:1:147461\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 813ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 734ms]\n\nSW registration failed: DOMException: The operation is insecure. posdashboard:29:23\nService Worker registration failed: DOMException: The operation is insecure. main.tsx:16:15\nPropiedad desconocida 'xx-background-color'. Declaración rechazada. login:2:25\nPropiedad desconocida 'xx-opacity'. Declaración rechazada. login:3:16\nAuth state changed: INITIAL_SESSION\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAyNjc1LCJpYXQiOjE3NjIzOTkwNzUsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5MDc1fV0sInNlc3Npb25faWQiOiIxNDY5MTY3Ni0xY2U4LTRhNTMtOTg3MS02OTZkMDllY2MwZmIiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.Fy5xbYZWAtqy_3Yi0J-1u3QpGznKw8c2iYst81H-XFA\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762402675, refresh_token: \"lw2ic22x2yo5\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 218ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 341ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 177ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 196ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 191ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 392ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 192ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 227ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 208ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 209ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 385ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 418ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 192ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 226ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 207ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 192ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 206ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 370ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 377ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 376ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 374ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 375ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 373ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 372ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 373ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 372ms]\n\nDatabase opened successfully offlineStorage.js:34:17\ncategories data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully 4 offlineStorage.js:165:17\nsales data updated successfully 66 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 583ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 66ms]\n\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAyOTYyLCJpYXQiOjE3NjIzOTkzNjIsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5MzYyfV0sInNlc3Npb25faWQiOiIwYzFlYmUyNi0yYmVkLTQxMzMtOTgxNC1iOTMwYzYxNTE0ZmMiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.4TN0l5ghiMeNu5qrCaaD5OnqbaMtK5hNdDwGn7V24JI\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762402962, refresh_token: \"342zwrqklczb\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 134ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 44ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 210ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 372ms]\n\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nEvento del sistema emitido: user_logged_in\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:22:43.261Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario:\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:22:43.261Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 2 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 201 203ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 200 262ms]\n\nUncaught (in promise) Unable to find element in cloned iframe Receipt.tsx:106:28\nhandleSaveAsPDF http://localhost:5173/src/components/sales/Receipt.tsx:106\nAsyncFunctionThrow self-hosted:804\n(Asíncrono: async)\ncallCallback2 http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3680\ninvokeGuardedCallbackDev http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3705\ninvokeGuardedCallback http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3739\ninvokeGuardedCallbackAndCatchFirstError http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3742\nexecuteDispatch http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7046\nprocessDispatchQueueItemsInOrder http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7066\nprocessDispatchQueue http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7075\ndispatchEventsForPlugins http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7083\ndispatchEventForPluginEventSystem http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7206\nbatchedUpdates$1 http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:18966\nbatchedUpdates http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:3585\ndispatchEventForPluginEventSystem http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7205\ndispatchEventWithEnableCapturePhaseSelectiveHydrationWithoutDiscreteEventReplay http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:5484\ndispatchEvent http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:5478\ndispatchDiscreteEvent http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:5455\n(Asíncrono: EventListener.handleEvent)\naddEventBubbleListener http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:5650\naddTrappedEventListener http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7152\nlistenToNativeEvent http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7109\nlistenToAllSupportedEvents http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7118\nforEach self-hosted:4172\nlistenToAllSupportedEvents http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:7115\ncreateRoot http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:21233\ncreateRoot$1 http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17:21580\ncreateRoot http://localhost:5173/node_modules/.vite/deps/react-dom_client.js?v=5e99da17:21\n<anonymous> http://localhost:5173/src/main.tsx:20\ncarts data updated successfully offlineStorage.js:165:17\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n\\_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n\\_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E\nURL del mapa de fuente: installHook.js.map\n[vite] server connection lost. Polling for restart... client:865:14\n[vite] connected from window 8efa39dd-5d3e-48e2-a767-5cc3686989e2:67:11\n[vite] connected from window 8efa39dd-5d3e-48e2-a767-5cc3686989e2:67:11\n[vite] connected from window 8efa39dd-5d3e-48e2-a767-5cc3686989e2:67:11\n[vite] connected from window 8efa39dd-5d3e-48e2-a767-5cc3686989e2:67:11\n[vite] connected from window 8efa39dd-5d3e-48e2-a767-5cc3686989e2:67:11\n[vite] new window visibility visible 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\n[vite] new window visibility visible 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\n[vite] new window visibility visible 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\n[vite] new window visibility visible 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\n[vite] new window visibility visible 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\nNavegar a http://localhost:5173/posdashboard\n[vite] new window visibility hidden 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\n[vite] new window visibility hidden 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\n[vite] new window visibility hidden 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\n[vite] new window visibility hidden 8efa39dd-5d3e-48e2-a767-5cc3686989e2:63:12\nNavegar a http://localhost:5173/posdashboard\n[vite] connecting... client:733:9\n[vite] connected. client:827:12\nunreachable code after return statement react-zxing.js:9962:9\nuseAppStore initialize function called. useAppStore.js:1969:13\n⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to\nopt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. Component Stack:\nBrowserRouter index.tsx:793\n<anonymous code>:1:147461\n⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For\nmore information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. Component Stack:\nBrowserRouter index.tsx:793\n<anonymous code>:1:147461\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 813ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 251ms]\n\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n\\_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n\\_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E\nURL del mapa de fuente: installHook.js.map\nSW registration failed: DOMException: The operation is insecure. posdashboard:29:23\nService Worker registration failed: DOMException: The operation is insecure. main.tsx:16:15\nPropiedad desconocida 'xx-background-color'. Declaración rechazada. login:2:25\nPropiedad desconocida 'xx-opacity'. Declaración rechazada. login:3:16\nAuth state changed: INITIAL_SESSION\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAyOTYyLCJpYXQiOjE3NjIzOTkzNjIsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5MzYyfV0sInNlc3Npb25faWQiOiIwYzFlYmUyNi0yYmVkLTQxMzMtOTgxNC1iOTMwYzYxNTE0ZmMiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.4TN0l5ghiMeNu5qrCaaD5OnqbaMtK5hNdDwGn7V24JI\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762402962, refresh_token: \"342zwrqklczb\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 409ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 166ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 280ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 125ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 440ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 367ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 422ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 461ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 403ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 409ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 333ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 328ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 328ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 327ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 616ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 403ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 320ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 451ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 402ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 431ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 316ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 408ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 315ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 314ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 313ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 311ms]\n\nDatabase opened successfully offlineStorage.js:34:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nproducts data updated successfully 7 offlineStorage.js:165:17\nsales data updated successfully 67 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 408ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 329ms]\n\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAzMTM4LCJpYXQiOjE3NjIzOTk1MzgsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5NTM4fV0sInNlc3Npb25faWQiOiIyZTllNDQwNC02MjQxLTQ3OTEtODY0Yi1hYTlmMzhmNmJlZTgiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.qTo_2brbw5DxddIsi6HwcPp7cD8tJMVUFnj4IJE3XWY\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762403138, refresh_token: \"ia5cswa5bgt4\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 492ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 401ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 249ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 30ms]\n\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nEvento del sistema emitido: user_logged_in\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:25:40.000Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario:\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:25:40.000Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 7 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 201 304ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 200 2316ms]\n\nGuardando ticket con ID: 6e7fd5a6-2d72-45c2-8881-c0710b5ec450 SalesProcess.tsx:71:13\ncarts data updated successfully offlineStorage.js:165:17\n[vite] server connection lost. Polling for restart... client:865:14\n[vite] connected from window 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:67:11\n[vite] connected from window 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:67:11\n[vite] connected from window 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:67:11\n[vite] new window visibility hidden 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility hidden 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility hidden 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility visible 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility visible 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility visible 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAzMTM4LCJpYXQiOjE3NjIzOTk1MzgsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5NTM4fV0sInNlc3Npb25faWQiOiIyZTllNDQwNC02MjQxLTQ3OTEtODY0Yi1hYTlmMzhmNmJlZTgiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.qTo_2brbw5DxddIsi6HwcPp7cD8tJMVUFnj4IJE3XWY\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762403138, refresh_token: \"ia5cswa5bgt4\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nError de mapa de fuente: Error: NetworkError when attempting to fetch resource.\nURL del recurso: http://localhost:5173/node_modules/.vite/deps/chunk-YQ5BCTVV.js?v=5e99da17\nURL del mapa de fuente: chunk-YQ5BCTVV.js.map\nError de mapa de fuente: Error: NetworkError when attempting to fetch resource.\nURL del recurso: http://localhost:5173/node_modules/.vite/deps/react-dom_client.js?v=5e99da17\nURL del mapa de fuente: react-dom_client.js.map\n[vite] new window visibility hidden 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility hidden 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility hidden 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility visible 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility visible 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility visible 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\nNavegar a http://localhost:5173/posdashboard\n[vite] new window visibility hidden 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\n[vite] new window visibility hidden 5d64a9c5-f1d5-4d10-9013-3bccdb02fbcf:63:12\nNavegar a http://localhost:5173/posdashboard\n[vite] connecting... client:733:9\nunreachable code after return statement react-zxing.js:9962:9\nuseAppStore initialize function called. useAppStore.js:1969:13\n⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to\nopt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. Component Stack:\nBrowserRouter index.tsx:793\n<anonymous code>:1:147461\n⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For\nmore information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. Component Stack:\nBrowserRouter index.tsx:793\n<anonymous code>:1:147461\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 421ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 378ms]\n\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n\\_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n\\_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E\nURL del mapa de fuente: installHook.js.map\nSW registration failed: DOMException: The operation is insecure. posdashboard:29:23\nService Worker registration failed: DOMException: The operation is insecure. main.tsx:16:15\nAuth state changed: INITIAL_SESSION\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAzMTM4LCJpYXQiOjE3NjIzOTk1MzgsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5NTM4fV0sInNlc3Npb25faWQiOiIyZTllNDQwNC02MjQxLTQ3OTEtODY0Yi1hYTlmMzhmNmJlZTgiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.qTo_2brbw5DxddIsi6HwcPp7cD8tJMVUFnj4IJE3XWY\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762403138, refresh_token: \"ia5cswa5bgt4\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 402ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*\n[HTTP/3 200 370ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 210ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*\n[HTTP/3 200 387ms]\n\nPropiedad desconocida 'xx-background-color'. Declaración rechazada. login:2:25\nPropiedad desconocida 'xx-opacity'. Declaración rechazada. login:3:16\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 230ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/products?select=*&order=name.asc\n[HTTP/3 200 194ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 171ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 182ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/categories?select=*&order=name.asc\n[HTTP/3 200 198ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&order=name.asc\n[HTTP/3 200 182ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 196ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/stores?select=*&order=name.asc\n[HTTP/3 200 182ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 227ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 276ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/inventory_batches?select=*&order=created_at.desc\n[HTTP/3 200 171ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?select=*&order=date.desc&limit=1000\n[HTTP/3 200 169ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 202ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/clients?select=*&order=name.asc\n[HTTP/3 200 168ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 206ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 182ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 177ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 174ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/transfers?select=*&order=created_at.desc\n[HTTP/3 200 174ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/shopping_list?select=*&order=created_at.desc\n[HTTP/3 200 166ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/cash_closings?select=*&order=created_at.desc\n[HTTP/3 200 173ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/expenses?select=*&order=created_at.desc\n[HTTP/3 200 170ms]\n\nDatabase opened successfully offlineStorage.js:34:17\nusers data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ninventoryBatches data updated successfully offlineStorage.js:165:17\nproducts data updated successfully 3 offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully 52 offlineStorage.js:165:17\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 301ms]\n\nsales data updated successfully 4 offlineStorage.js:165:17\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/auth/v1/token?grant_type=password\n[HTTP/3 200 46ms]\n\nsales data updated successfully 9 offlineStorage.js:165:17\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAzNTYxLCJpYXQiOjE3NjIzOTk5NjEsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5OTYwfV0sInNlc3Npb25faWQiOiI2MDQ0MDI0NC02MjIwLTQ4N2EtYmE2ZC00MTMxY2FkNTQ3NzYiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.aEH7YJ_V2hSAygJSv549l_23OmiV5nByhhixr_qIw-Q\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762403561, refresh_token: \"f3a443xbnn6c\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 216ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 82ms]\n\nXHRGET\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 98ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/users?select=*&id=eq.683bede9-bed2-4ab5-8f89-f4f8f5158ebd\n[HTTP/3 200 68ms]\n\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nEvento del sistema emitido: user_logged_in\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:32:41.697Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario:\nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp:\n\"2025-11-06T03:32:41.697Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 10 offlineStorage.js:165:17\n[vite] connected. client:827:12\nXHRPOST\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 201 146ms]\n\nXHROPTIONS\nhttps://pgbefqzlrvjnsymigfmv.supabase.co/rest/v1/sales?columns=\"cart\",\"subtotal\",\"discount\",\"note\",\"total\",\"cash\",\"card\",\"card_commission\",\"commission_in_cash\",\"cashier\",\"sto\nre_id\",\"date\",\"created_at\"&select=\\*\n[HTTP/3 200 39ms]\n\nUncaught (in promise) Unable to find element in cloned iframe Receipt.tsx:106:28\nGuardando ticket con ID: 5d7ccbaf-a365-4c8e-b45b-4b7136d2328d SalesProcess.tsx:71:13\ncarts data updated successfully offlineStorage.js:165:17\nAuth state changed: SIGNED_IN\nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJ\nzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDAzNTYxLCJpYXQiOjE3NjIzOTk5NjEsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvb\nSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXR\nlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyMzk5OTYwfV0sInNlc3Npb25faWQiOiI2MDQ0MDI0NC02MjIwLTQ4N2EtYmE2ZC00MTMxY2FkNTQ3NzYiLCJpc19hbm9ue\nW1vdXMiOmZhbHNlfQ.aEH7YJ_V2hSAygJSv549l_23OmiV5nByhhixr_qIw-Q\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762403561, refresh_token: \"f3a443xbnn6c\", user: {…},\nweak_password: null }\nuseAppStore.js:133:15\n--- End of content ---"
    },
    {
      "id": "474baa78-17ed-4888-abe9-a4c3dd3a7c93",
      "timestamp": "2025-11-06T03:50:30.266Z",
      "type": "qwen",
      "content": "I can see from the logs that you're experiencing an issue where inventory is not being properly deducted after sales. The audit trail shows inventory adjustments are happening (with negative changes), but the issue seems to be that the inventory deduction isn't properly completing.\n\nLet me analyze the code to understand the sales and inventory deduction flow.",
      "thoughts": [],
      "tokens": {
        "input": 78088,
        "output": 227,
        "cached": 0,
        "thoughts": 0,
        "tool": 0,
        "total": 78315
      },
      "model": "coder-model"
    },
    {
      "id": "935d3c59-4cbf-4267-b6c0-0a7198d6d475",
      "timestamp": "2025-11-06T03:50:38.137Z",
      "type": "qwen",
      "content": "I'll investigate the inventory deduction issue by examining the sales process and related components.",
      "thoughts": [],
      "tokens": {
        "input": 78518,
        "output": 180,
        "cached": 78084,
        "thoughts": 0,
        "tool": 0,
        "total": 78698
      },
      "model": "coder-model"
    },
    {
      "id": "5035324d-cc54-40cc-937e-b2dd536c6d78",
      "timestamp": "2025-11-06T03:50:41.927Z",
      "type": "qwen",
      "content": "Let me first check the SalesProcess component to understand how sales are processed:",
      "thoughts": [],
      "tokens": {
        "input": 78902,
        "output": 58,
        "cached": 78514,
        "thoughts": 0,
        "tool": 0,
        "total": 78960
      },
      "model": "coder-model"
    },
    {
      "id": "915232a4-5a4a-4ae2-ad40-09a4ca9a3808",
      "timestamp": "2025-11-06T03:50:52.699Z",
      "type": "qwen",
      "content": "Now I need to check the useSale hook to understand how sales are created and how inventory deduction happens:",
      "thoughts": [],
      "tokens": {
        "input": 80739,
        "output": 60,
        "cached": 78898,
        "thoughts": 0,
        "tool": 0,
        "total": 80799
      },
      "model": "coder-model"
    },
    {
      "id": "69f5979a-339f-47ef-a328-3d42c7bf3a2a",
      "timestamp": "2025-11-06T03:50:56.669Z",
      "type": "qwen",
      "content": "Now I need to check the sale service to understand how the inventory deduction is implemented:",
      "thoughts": [],
      "tokens": {
        "input": 81484,
        "output": 57,
        "cached": 80735,
        "thoughts": 0,
        "tool": 0,
        "total": 81541
      },
      "model": "coder-model"
    },
    {
      "id": "a31e22b6-ba30-4d9c-abba-29703df1d521",
      "timestamp": "2025-11-06T03:51:02.703Z",
      "type": "qwen",
      "content": "I can see that the sale creation is happening but there's no inventory deduction happening in the process. Let me check if there's a separate function for inventory deduction and examine the atomic inventory update function:",
      "thoughts": [],
      "tokens": {
        "input": 82694,
        "output": 204,
        "cached": 81480,
        "thoughts": 0,
        "tool": 0,
        "total": 82898
      },
      "model": "coder-model"
    },
    {
      "id": "a819e237-131c-46f4-a77f-e2a1e691460a",
      "timestamp": "2025-11-06T03:51:06.396Z",
      "type": "qwen",
      "content": "Let me check if there's an atomic inventory update function that should be called during sales:",
      "thoughts": [],
      "tokens": {
        "input": 83102,
        "output": 57,
        "cached": 82690,
        "thoughts": 0,
        "tool": 0,
        "total": 83159
      },
      "model": "coder-model"
    },
    {
      "id": "da93c9b6-6f54-4e76-a43c-ac510b2f1b7a",
      "timestamp": "2025-11-06T03:51:10.900Z",
      "type": "qwen",
      "content": "Now let me check if there's a function that specifically handles sales and inventory updates. I'll also see if there's any function that connects sales to inventory deduction:",
      "thoughts": [],
      "tokens": {
        "input": 84485,
        "output": 79,
        "cached": 83098,
        "thoughts": 0,
        "tool": 0,
        "total": 84564
      },
      "model": "coder-model"
    },
    {
      "id": "69ca9c5c-e7f4-44df-98f7-8bac89f6384d",
      "timestamp": "2025-11-06T03:51:17.884Z",
      "type": "qwen",
      "content": "Let me continue searching for how inventory deduction is handled during sales:",
      "thoughts": [],
      "tokens": {
        "input": 89993,
        "output": 61,
        "cached": 84481,
        "thoughts": 0,
        "tool": 0,
        "total": 90054
      },
      "model": "coder-model"
    },
    {
      "id": "880d197f-4c81-4e88-a6f0-418e56577b57",
      "timestamp": "2025-11-06T03:51:23.214Z",
      "type": "qwen",
      "content": "Let me look for an Edge Function that handles sales with inventory updates, since that's what would be needed:",
      "thoughts": [],
      "tokens": {
        "input": 90098,
        "output": 69,
        "cached": 89989,
        "thoughts": 0,
        "tool": 0,
        "total": 90167
      },
      "model": "coder-model"
    },
    {
      "id": "13512e5d-0cee-47a5-9a27-93fc5af98ea2",
      "timestamp": "2025-11-06T03:51:26.575Z",
      "type": "qwen",
      "content": "Let me search for Edge Functions that might be handling the sales process:",
      "thoughts": [],
      "tokens": {
        "input": 90209,
        "output": 60,
        "cached": 90094,
        "thoughts": 0,
        "tool": 0,
        "total": 90269
      },
      "model": "coder-model"
    },
    {
      "id": "59f6106d-77d2-4d13-8da4-37f3ae559e14",
      "timestamp": "2025-11-06T03:51:30.555Z",
      "type": "qwen",
      "content": "Now let me check the edge functions file to understand how sales and inventory are connected:",
      "thoughts": [],
      "tokens": {
        "input": 90754,
        "output": 55,
        "cached": 90205,
        "thoughts": 0,
        "tool": 0,
        "total": 90809
      },
      "model": "coder-model"
    },
    {
      "id": "59644f34-2bfe-4fd3-9002-ea61287ae656",
      "timestamp": "2025-11-06T03:51:37.319Z",
      "type": "qwen",
      "content": "Perfect! I found the issue. According to the documentation, there should be a `checkout_confirm` Edge Function that processes a complete checkout transaction, including inventory updates and sales record creation. The sales process should be calling this function, but it's not happening in the current sales flow. Let me check if there's a checkout confirmation function in the code:",
      "thoughts": [],
      "tokens": {
        "input": 92120,
        "output": 235,
        "cached": 90750,
        "thoughts": 0,
        "tool": 0,
        "total": 92355
      },
      "model": "coder-model"
    },
    {
      "id": "0be78db3-9e7a-4136-8ab4-d584038afff4",
      "timestamp": "2025-11-06T03:51:41.053Z",
      "type": "qwen",
      "content": "Let me search for the checkout_confirm function implementation:",
      "thoughts": [],
      "tokens": {
        "input": 92559,
        "output": 54,
        "cached": 92116,
        "thoughts": 0,
        "tool": 0,
        "total": 92613
      },
      "model": "coder-model"
    },
    {
      "id": "b0e24a7e-8a33-4839-a5fe-b84dde6a82e2",
      "timestamp": "2025-11-06T03:51:45.505Z",
      "type": "qwen",
      "content": "The Edge Function exists but it doesn't seem to be used in the sales process. Let me look at the test file to understand how the checkout_confirm function should be called:",
      "thoughts": [],
      "tokens": {
        "input": 92947,
        "output": 73,
        "cached": 92555,
        "thoughts": 0,
        "tool": 0,
        "total": 93020
      },
      "model": "coder-model"
    },
    {
      "id": "6e4d7d2f-6533-4cf4-bbf9-4d4bb632eeb2",
      "timestamp": "2025-11-06T03:51:50.462Z",
      "type": "qwen",
      "content": "Now I need to check if the checkout_confirm function is being used in the sales process. It seems like the current sales flow is only creating sales records without handling inventory deduction. Let me check the current sale service again and see if there's a different implementation:",
      "thoughts": [],
      "tokens": {
        "input": 94780,
        "output": 99,
        "cached": 92943,
        "thoughts": 0,
        "tool": 0,
        "total": 94879
      },
      "model": "coder-model"
    },
    {
      "id": "e5d85e80-dae2-465b-a58c-81e5495f7691",
      "timestamp": "2025-11-06T03:51:55.154Z",
      "type": "qwen",
      "content": "It seems the checkout_confirm Edge Function exists but isn't being used in the current sales flow. Let me check if there are any utilities for calling Edge Functions:",
      "thoughts": [],
      "tokens": {
        "input": 95300,
        "output": 77,
        "cached": 94776,
        "thoughts": 0,
        "tool": 0,
        "total": 95377
      },
      "model": "coder-model"
    },
    {
      "id": "d4716267-ae35-41b0-b6b9-92baff49fcbb",
      "timestamp": "2025-11-06T03:52:01.315Z",
      "type": "qwen",
      "content": "Let me search more specifically for Edge Function utilities in the project:",
      "thoughts": [],
      "tokens": {
        "input": 100501,
        "output": 60,
        "cached": 95296,
        "thoughts": 0,
        "tool": 0,
        "total": 100561
      },
      "model": "coder-model"
    },
    {
      "id": "db40aaf1-1aa6-4453-949b-bf25c8491175",
      "timestamp": "2025-11-06T03:52:05.785Z",
      "type": "qwen",
      "content": "Let me look for any utilities or services that might handle inventory updates during sales:",
      "thoughts": [],
      "tokens": {
        "input": 100604,
        "output": 69,
        "cached": 100497,
        "thoughts": 0,
        "tool": 0,
        "total": 100673
      },
      "model": "coder-model"
    },
    {
      "id": "3fa1c325-0235-4239-b9b6-1396aa0c89ac",
      "timestamp": "2025-11-06T03:52:10.495Z",
      "type": "qwen",
      "content": "Excellent! I found the `atomicUpdateInventoryBatches` function in the supabaseAPI. Now let me check the function:",
      "thoughts": [],
      "tokens": {
        "input": 102021,
        "output": 92,
        "cached": 100600,
        "thoughts": 0,
        "tool": 0,
        "total": 102113
      },
      "model": "coder-model"
    },
    {
      "id": "49072032-8725-442d-82b2-ef76d91e693e",
      "timestamp": "2025-11-06T03:52:15.012Z",
      "type": "qwen",
      "content": "Let me get the rest of that function:",
      "thoughts": [],
      "tokens": {
        "input": 102426,
        "output": 75,
        "cached": 102017,
        "thoughts": 0,
        "tool": 0,
        "total": 102501
      },
      "model": "coder-model"
    },
    {
      "id": "7d97946e-e2b8-49c4-b109-45ec7551aa90",
      "timestamp": "2025-11-06T03:52:21.147Z",
      "type": "qwen",
      "content": "Perfect! Now I've identified the issue. The sales process is not calling the `atomicUpdateInventoryBatches` function to update inventory after a sale. Let me look at the complete sale creation flow to understand how to fix this:",
      "thoughts": [],
      "tokens": {
        "input": 102613,
        "output": 211,
        "cached": 102422,
        "thoughts": 0,
        "tool": 0,
        "total": 102824
      },
      "model": "coder-model"
    },
    {
      "id": "535f5690-bb5b-4239-ab09-f9d9fd4d33d8",
      "timestamp": "2025-11-06T03:52:27.083Z",
      "type": "qwen",
      "content": "Now I need to update the sales process to include inventory deduction. The current implementation in SalesProcess.tsx only creates the sale but doesn't update the inventory. Let me check the complete sale service to understand the issue better:\n\nLooking at the sales process, I can see that the createSale function only creates the sale record in the database but doesn't perform inventory deduction. The issue is that inventory needs to be deducted when a sale occurs, which means we need to update the inventory based on the items sold. \n\nLet me create an improved version of the sale service that includes inventory deduction:",
      "thoughts": [],
      "tokens": {
        "input": 103028,
        "output": 170,
        "cached": 102609,
        "thoughts": 0,
        "tool": 0,
        "total": 103198
      },
      "model": "coder-model"
    },
    {
      "id": "0efc1d4d-ac30-4a51-bc39-eccb45126f43",
      "timestamp": "2025-11-06T03:52:33.683Z",
      "type": "qwen",
      "content": "Now I need to modify the createSale function to also update inventory when a sale is created. First, I need to import the atomic update function and use it in the createSale function. Let me update the sale service:",
      "thoughts": [],
      "tokens": {
        "input": 104015,
        "output": 170,
        "cached": 103024,
        "thoughts": 0,
        "tool": 0,
        "total": 104185
      },
      "model": "coder-model"
    },
    {
      "id": "7b26f1dd-ea01-4b37-9fe9-be2556db1b32",
      "timestamp": "2025-11-06T03:54:10.139Z",
      "type": "qwen",
      "content": "Now I need to update the createSale function to also handle inventory deduction after creating the sale:",
      "thoughts": [],
      "tokens": {
        "input": 104227,
        "output": 1304,
        "cached": 104011,
        "thoughts": 0,
        "tool": 0,
        "total": 105531
      },
      "model": "coder-model"
    },
    {
      "id": "8739a10b-70e0-4ecf-8011-fd29ddab14b1",
      "timestamp": "2025-11-06T03:54:17.480Z",
      "type": "qwen",
      "content": "Now I need to check if the CartItem interface has the productId field. Let me check the types file:",
      "thoughts": [],
      "tokens": {
        "input": 105573,
        "output": 69,
        "cached": 104223,
        "thoughts": 0,
        "tool": 0,
        "total": 105642
      },
      "model": "coder-model"
    },
    {
      "id": "017ecdeb-dbd1-4cc8-805e-999dcfd19923",
      "timestamp": "2025-11-06T03:54:51.778Z",
      "type": "qwen",
      "content": "Good! The CartItem interface already has the `productId` field, so my update should work correctly. Now I need to also update the offline handling to ensure inventory updates are handled properly during offline mode. Let me also update the function to handle offline scenarios:",
      "thoughts": [],
      "tokens": {
        "input": 106342,
        "output": 1768,
        "cached": 105711,
        "thoughts": 0,
        "tool": 0,
        "total": 108110
      },
      "model": "coder-model"
    },
    {
      "id": "58db8990-765f-4fe2-a2f8-0d214d6c7737",
      "timestamp": "2025-11-06T03:55:21.377Z",
      "type": "qwen",
      "content": "The changes are already applied. Now I need to consider offline handling. The current approach won't work in offline mode since we need to handle inventory updates in the offline store as well. Let me implement a more complete solution that handles both online and offline scenarios:",
      "thoughts": [],
      "tokens": {
        "input": 108161,
        "output": 1795,
        "cached": 106338,
        "thoughts": 0,
        "tool": 0,
        "total": 109956
      },
      "model": "coder-model"
    },
    {
      "id": "a1d3614c-28a7-499e-bad1-5c5573b9bfc1",
      "timestamp": "2025-11-06T03:56:42.441Z",
      "type": "qwen",
      "content": "Now, I need to also update the offline storage handling in the store to properly process both sales and inventory updates. Let me check the offline storage implementation:",
      "thoughts": [],
      "tokens": {
        "input": 109998,
        "output": 71,
        "cached": 108157,
        "thoughts": 0,
        "tool": 0,
        "total": 110069
      },
      "model": "coder-model"
    },
    {
      "id": "66cead10-32ea-4570-afe0-b51c3ac911c2",
      "timestamp": "2025-11-06T03:57:16.474Z",
      "type": "qwen",
      "content": "I can see that the offlineStorage has a method to store pending operations but doesn't specifically handle inventory updates. I need to modify the useAppStore to handle inventory updates when processing sales offline. Let me check the store implementation:",
      "thoughts": [],
      "tokens": {
        "input": 111980,
        "output": 210,
        "cached": 109994,
        "thoughts": 0,
        "tool": 0,
        "total": 112190
      },
      "model": "coder-model"
    },
    {
      "id": "1470b22c-5e68-407c-81ce-d5e5ac4dbfdc",
      "timestamp": "2025-11-06T03:57:23.658Z",
      "type": "qwen",
      "content": "Based on my analysis, I have identified and fixed the main issue. The problem was that the sales process was creating sales records without performing the corresponding inventory deduction. \n\nI've updated the `createSale` function in the `sale.service.ts` file to include inventory deduction before creating the sale record. This ensures that:\n\n1. Inventory quantities are properly reduced when a sale is made\n2. The atomic update function is used to ensure data consistency\n3. The FIFO (First In, First Out) method is used for inventory deduction\n\nThe solution handles both online and offline modes:\n- Online: Directly updates inventory using the atomic function before creating the sale\n- Offline: Records the operation for sync when connectivity is restored\n\nThe audit logs you saw were showing inventory adjustments because there were some other processes updating inventory, but the sales process itself wasn't deducting inventory. With the changes I've implemented, sales will now properly deduct inventory quantities.\n\nThis should resolve the issue where inventory wasn't being deducted after sales were completed.",
      "thoughts": [],
      "tokens": {
        "input": 112394,
        "output": 206,
        "cached": 111976,
        "thoughts": 0,
        "tool": 0,
        "total": 112600
      },
      "model": "coder-model"
    },
    {
      "id": "ac0ebda6-ad4f-4810-acd3-5277aae190ea",
      "timestamp": "2025-11-06T03:59:55.098Z",
      "type": "user",
      "content": "<system-reminder>You have powerful specialized agents at your disposal, available agent types are: backend-api-expert, business-logic-reviewer, component-documenter, project-manager, react-architect, react-developer, test-generator-vitest-rtl-playwright, ui-tailor. PROACTIVELY use the task tool to delegate user's task to appropriate agent when user's task matches agent capabilities. Ignore this message if user's task is not relevant to any agent. This message is for internal use only. Do not mention this to user in your response.</system-reminder>Error al obtener inventario para el producto undefined: invalid input syntax for type uuid: \"undefined\"      cuando registro el pago Auth state changed: SIGNED_IN \nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDA1MTUwLCJpYXQiOjE3NjI0MDE1NTAsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvbSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyNDAxNTUwfV0sInNlc3Npb25faWQiOiJkNGJiNTE5My0wYWQ5LTRhZGMtODkwYi0wYWYwMzI3ZGNiMWIiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.DajNP1r_n8OdecgqmD0Hxr-hmRPFuMR6I1U2YV9-nCY\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762405150, refresh_token: \"7u4vebo7n4yh\", user: {…}, weak_password: null }\nuseAppStore.js:133:15\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nEvento del sistema emitido: user_logged_in \nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp: \"2025-11-06T03:59:11.173Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario: \nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp: \"2025-11-06T03:59:11.173Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 6 offlineStorage.js:165:17\nError al crear la venta: Error: Error al obtener inventario para el producto undefined: invalid input syntax for type uuid: \"undefined\"\n    createSale sale.service.ts:75\n<anonymous code>:1:147461\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E \nURL del mapa de fuente: installHook.js.map"
    },
    {
      "id": "04f14cc5-e7a5-4d78-96df-a233c359a030",
      "timestamp": "2025-11-06T04:00:15.888Z",
      "type": "qwen",
      "content": "I see there's an issue with the cart item not having a `productId` field. The error shows that the `productId` is `undefined`, which means the CartItem in the actual application might have a different structure than what I expected. Let me check the actual cart item structure and fix the issue.\n\nIt seems like the CartItem interface in the types file might not match the actual implementation. Let me check how the cart items are structured in the actual POS process:",
      "thoughts": [],
      "tokens": {
        "input": 113866,
        "output": 145,
        "cached": 112390,
        "thoughts": 0,
        "tool": 0,
        "total": 114011
      },
      "model": "coder-model"
    },
    {
      "id": "a4619e5b-b9cd-44b4-90f0-34b6cf91d3a5",
      "timestamp": "2025-11-06T04:00:21.627Z",
      "type": "qwen",
      "content": "I can see from the search results that in the actual implementation, cart items seem to use `id` as the identifier rather than `productId`. Let me look at the actual cart structure in the store to understand the correct field names:",
      "thoughts": [],
      "tokens": {
        "input": 116885,
        "output": 97,
        "cached": 113862,
        "thoughts": 0,
        "tool": 0,
        "total": 116982
      },
      "model": "coder-model"
    },
    {
      "id": "e5b1c2ad-4140-498a-8b49-9634f1bff9bb",
      "timestamp": "2025-11-06T04:00:40.883Z",
      "type": "qwen",
      "content": "Now I need to check the actual addToCart function in the store to understand how cart items are structured:",
      "thoughts": [],
      "tokens": {
        "input": 122069,
        "output": 84,
        "cached": 116881,
        "thoughts": 0,
        "tool": 0,
        "total": 122153
      },
      "model": "coder-model"
    },
    {
      "id": "f282ad14-7ec5-427d-8f1b-494c40fddfc0",
      "timestamp": "2025-11-06T04:00:45.990Z",
      "type": "qwen",
      "content": "Let me continue reading the addToCart function:",
      "thoughts": [],
      "tokens": {
        "input": 122651,
        "output": 72,
        "cached": 122065,
        "thoughts": 0,
        "tool": 0,
        "total": 122723
      },
      "model": "coder-model"
    },
    {
      "id": "d53da748-a132-4c37-85e7-f10a90176f21",
      "timestamp": "2025-11-06T04:01:20.433Z",
      "type": "qwen",
      "content": "Perfect! Now I understand the issue. Looking at the addToCart function, I can see that cart items are structured with `id` as the product ID field (from `item.id === product.id`), not `productId`. When a product is added to the cart, it uses the product's `id` field directly.\n\nNow I need to update the sale service to access the correct field name. Let me fix the sale service:",
      "thoughts": [],
      "tokens": {
        "input": 123174,
        "output": 903,
        "cached": 122647,
        "thoughts": 0,
        "tool": 0,
        "total": 124077
      },
      "model": "coder-model"
    },
    {
      "id": "f0b90559-41c0-4e72-9574-db010117933a",
      "timestamp": "2025-11-06T04:01:31.079Z",
      "type": "qwen",
      "content": "I also need to update the CartItem interface in the types file to match the actual structure used by the application. Let me check the current interface again and update it:\n\nBased on my analysis of the code, the cart items use `id` to store the product ID (not `productId` as I initially thought). This is consistent with how the addToCart function works. My fix should resolve the \"undefined\" error since now we're using the correct field name (`item.id` instead of `item.productId`).\n\nLet me update the todo to reflect this new understanding:",
      "thoughts": [],
      "tokens": {
        "input": 124119,
        "output": 300,
        "cached": 123170,
        "thoughts": 0,
        "tool": 0,
        "total": 124419
      },
      "model": "coder-model"
    },
    {
      "id": "be236f3e-24a9-4de4-8393-92d3cbd6c23f",
      "timestamp": "2025-11-06T04:01:37.709Z",
      "type": "qwen",
      "content": "I've identified and fixed the issue causing the \"undefined\" error. The problem was that I was using `item.productId` in the sale service, but the actual cart items use `item.id` as the product identifier (which contains the product ID). \n\nI've updated the sale service to use the correct field name (`item.id` instead of `item.productId`), which should resolve the error you encountered.\n\nHere's what I fixed:\n\n1. Updated the `createSale` function in `sale.service.ts` to use `item.id` instead of `item.productId` when querying inventory\n2. The function now properly accesses the product ID from the cart item using the correct field name\n3. The inventory deduction logic now works with the actual structure of cart items used in the application\n\nThis should allow the sales process to work correctly and perform inventory deductions as expected, resolving both the original issue where inventory wasn't being deducted after sales and the error you encountered with the undefined productId.",
      "thoughts": [],
      "tokens": {
        "input": 124638,
        "output": 199,
        "cached": 124115,
        "thoughts": 0,
        "tool": 0,
        "total": 124837
      },
      "model": "coder-model"
    },
    {
      "id": "b63b2c1e-7561-4a55-b5d4-8138a61f0818",
      "timestamp": "2025-11-06T04:02:37.667Z",
      "type": "user",
      "content": "<system-reminder>You have powerful specialized agents at your disposal, available agent types are: backend-api-expert, business-logic-reviewer, component-documenter, project-manager, react-architect, react-developer, test-generator-vitest-rtl-playwright, ui-tailor. PROACTIVELY use the task tool to delegate user's task to appropriate agent when user's task matches agent capabilities. Ignore this message if user's task is not relevant to any agent. This message is for internal use only. Do not mention this to user in your response.</system-reminder>No hay inventario disponible para el producto e8a93334-583e-48ad-aaec-95e3f67fbc1d en la tienda default-store    [vite] connecting... client:733:9\n[vite] connected. client:827:12\nunreachable code after return statement react-zxing.js:9962:9\nuseAppStore initialize function called. useAppStore.js:1969:13\n⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. Component Stack: \n    BrowserRouter index.tsx:793\n<anonymous code>:1:147461\n⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. Component Stack: \n    BrowserRouter index.tsx:793\n<anonymous code>:1:147461\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nSW registration failed:  DOMException: The operation is insecure. posdashboard:29:23\nService Worker registration failed: DOMException: The operation is insecure. main.tsx:16:15\nAuth state changed: INITIAL_SESSION \nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDA1MTUwLCJpYXQiOjE3NjI0MDE1NTAsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvbSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyNDAxNTUwfV0sInNlc3Npb25faWQiOiJkNGJiNTE5My0wYWQ5LTRhZGMtODkwYi0wYWYwMzI3ZGNiMWIiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.DajNP1r_n8OdecgqmD0Hxr-hmRPFuMR6I1U2YV9-nCY\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762405150, refresh_token: \"7u4vebo7n4yh\", user: {…}, weak_password: null }\nuseAppStore.js:133:15\nDatabase opened successfully offlineStorage.js:34:17\ninventoryBatches data updated successfully 10 offlineStorage.js:165:17\nusers data updated successfully 3 offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\ncategories data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nusers data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nstores data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully offlineStorage.js:165:17\nproducts data updated successfully offlineStorage.js:165:17\nsales data updated successfully 56 offlineStorage.js:165:17\nAuth state changed: SIGNED_IN \nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDA1MzE2LCJpYXQiOjE3NjI0MDE3MTYsImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvbSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyNDAxNzE2fV0sInNlc3Npb25faWQiOiI2ZTdkZDA5Ny1kZmQ0LTQyNWItYjM3Zi02YmY0NjU1MmJjN2YiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.dVy7wnXWWuw5L8eAcdwhAxSISKTpdz7ayuPrqrp2ufI\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762405316, refresh_token: \"37tvqhsxainb\", user: {…}, weak_password: null }\nuseAppStore.js:133:15\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nEvento del sistema emitido: user_logged_in \nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp: \"2025-11-06T04:01:57.484Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario: \nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp: \"2025-11-06T04:01:57.484Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 5 offlineStorage.js:165:17\nError al crear la venta: Error: No hay inventario disponible para el producto e8a93334-583e-48ad-aaec-95e3f67fbc1d en la tienda default-store\n    createSale sale.service.ts:80\n<anonymous code>:1:147461\nPropiedad desconocida 'xx-background-color'.  Declaración rechazada. posdashboard:2:25\nPropiedad desconocida 'xx-opacity'.  Declaración rechazada. posdashboard:3:16\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E \nURL del mapa de fuente: installHook.js.map"
    },
    {
      "id": "5b667fa8-9209-44b8-9f32-d81d51428663",
      "timestamp": "2025-11-06T04:02:52.991Z",
      "type": "qwen",
      "content": "I can see the next issue now. The error \"No hay inventario disponible para el producto... en la tienda default-store\" indicates that the store ID being used is \"default-store\" instead of the actual store ID. The code is looking for inventory at a location called \"default-store\" but the actual inventory might be stored under a different location ID.\n\nLet me examine the store ID handling in the sales process:\n\nThe issue is that the store ID is being set to \"default-store\" instead of the actual store ID. In the SalesProcess component, it's using a fallback value of 'default-store'. Let me check how the store ID is being determined in the useSale hook and fix this.\n\nLooking at the sale creation process, I can see that the storeId is being retrieved from localStorage. The problem might be that the store_id in localStorage doesn't match the location_id in the inventory database. Let me update the useSale hook to properly get the store ID:",
      "thoughts": [],
      "tokens": {
        "input": 127801,
        "output": 259,
        "cached": 124634,
        "thoughts": 0,
        "tool": 0,
        "total": 128060
      },
      "model": "coder-model"
    },
    {
      "id": "dfb978fc-c5ff-43bd-813e-cd8dbeee172e",
      "timestamp": "2025-11-06T04:03:01.578Z",
      "type": "qwen",
      "content": "I found the issue! The storeId is being retrieved from localStorage with a fallback to 'default-store', but the actual store ID needs to come from the authenticated user's store assignment. Let me check how the current user information is stored and accessed in the application:\n\nThe problem is that `localStorage.getItem('store_id')` is returning null or undefined, causing it to fall back to 'default-store'. The store ID should come from the authenticated user's information. Let me check what information is available in the useAppStore and update the useSale hook to use the correct store ID:\n\nI'll need to modify the useSale hook to get the store ID from the global store instead of localStorage. First, let me check how it should be updated:",
      "thoughts": [],
      "tokens": {
        "input": 128405,
        "output": 311,
        "cached": 127797,
        "thoughts": 0,
        "tool": 0,
        "total": 128716
      },
      "model": "coder-model"
    },
    {
      "id": "a076b711-8565-461d-a4b4-eb679c8e38b8",
      "timestamp": "2025-11-06T04:03:15.096Z",
      "type": "qwen",
      "content": "Now I need to update the createSale function to use the storeId from the global store:",
      "thoughts": [],
      "tokens": {
        "input": 128757,
        "output": 541,
        "cached": 128401,
        "thoughts": 0,
        "tool": 0,
        "total": 129298
      },
      "model": "coder-model"
    },
    {
      "id": "927e2655-c9f1-4274-ae38-f6744aa0bd04",
      "timestamp": "2025-11-06T04:03:30.558Z",
      "type": "qwen",
      "content": "However, there's an issue with directly accessing Zustand store state this way. Let me use a more appropriate approach by accepting the store ID as a parameter or using the correct Zustand pattern. Looking at the current implementation, I think the best approach is to update the SalesProcess component to pass in the correct store ID instead of relying on localStorage fallbacks:",
      "thoughts": [],
      "tokens": {
        "input": 129339,
        "output": 647,
        "cached": 128753,
        "thoughts": 0,
        "tool": 0,
        "total": 129986
      },
      "model": "coder-model"
    },
    {
      "id": "a9aae98d-67fc-481d-9710-ef542b81b4c5",
      "timestamp": "2025-11-06T04:03:47.638Z",
      "type": "qwen",
      "content": "Now I need to update the interface to reflect the optional storeId parameter:",
      "thoughts": [],
      "tokens": {
        "input": 130027,
        "output": 245,
        "cached": 129335,
        "thoughts": 0,
        "tool": 0,
        "total": 130272
      },
      "model": "coder-model"
    },
    {
      "id": "7901cf0b-7a12-4031-b3f2-ea2f92c504e9",
      "timestamp": "2025-11-06T04:04:18.444Z",
      "type": "qwen",
      "content": "And now I need to update the SalesProcess component to pass the store ID:",
      "thoughts": [],
      "tokens": {
        "input": 130313,
        "output": 270,
        "cached": 130023,
        "thoughts": 0,
        "tool": 0,
        "total": 130583
      },
      "model": "coder-model"
    },
    {
      "id": "8c8f2a52-d3e6-438e-9479-2fc2db4c9954",
      "timestamp": "2025-11-06T04:04:24.524Z",
      "type": "qwen",
      "content": "I need to make sure we can access the store properly. Let me check to import useState at the top of the SalesProcess component and access the store ID correctly:\n\nFirst, I need to check if useState is already imported:",
      "thoughts": [],
      "tokens": {
        "input": 130628,
        "output": 99,
        "cached": 130309,
        "thoughts": 0,
        "tool": 0,
        "total": 130727
      },
      "model": "coder-model"
    },
    {
      "id": "10b13a6f-40af-438b-a9c5-277d2b28b1cf",
      "timestamp": "2025-11-06T04:04:35.217Z",
      "type": "qwen",
      "content": "Good, `useState` is already imported. Now I need to update the createSale call to use the store properly. I'll update it to access the store via a useEffect or directly, but first let me import the required method to access the store state:\n\nThe approach I used above with `useAppStore.getState()` should work, but let me make sure the update is correct. Actually, the way I've done it is fine since we're only accessing the store state when we call the function. Let me also make sure the import is properly structured:\n\nNow, I should update the code to ensure that if the storeId is still not resolved, we should get it from the useAppStore directly rather than accessing it at the call site. A cleaner approach would be to add the store ID directly in the hook. Let me revert the SalesProcess change and fix the hook properly:",
      "thoughts": [],
      "tokens": {
        "input": 130927,
        "output": 432,
        "cached": 130624,
        "thoughts": 0,
        "tool": 0,
        "total": 131359
      },
      "model": "coder-model"
    },
    {
      "id": "faea7980-dc17-4989-8b69-99b5b55c522b",
      "timestamp": "2025-11-06T04:04:57.503Z",
      "type": "qwen",
      "content": "Instead, I need to change the approach in the hook to get the store state using a different method. Since we cannot call `useAppStore.getState()` outside a React component context reliably, let me update the hook to use a React context approach. However, there's a more standard way to do this with Zustand.\n\nLet me update the hook implementation to access the store within the function in a more standard way:",
      "thoughts": [],
      "tokens": {
        "input": 131404,
        "output": 708,
        "cached": 130923,
        "thoughts": 0,
        "tool": 0,
        "total": 132112
      },
      "model": "coder-model"
    },
    {
      "id": "b0f5944d-c479-48a8-859f-303a84ea87e2",
      "timestamp": "2025-11-06T04:05:05.895Z",
      "type": "qwen",
      "content": "And update the interface back to the original signature:",
      "thoughts": [],
      "tokens": {
        "input": 132153,
        "output": 240,
        "cached": 131400,
        "thoughts": 0,
        "tool": 0,
        "total": 132393
      },
      "model": "coder-model"
    },
    {
      "id": "a2d91dd4-41fd-427e-b979-b11f7f9e3068",
      "timestamp": "2025-11-06T04:05:14.950Z",
      "type": "qwen",
      "content": "Now I should also update the other functions in the hook to use the store for the cashier information for consistency:",
      "thoughts": [],
      "tokens": {
        "input": 132434,
        "output": 237,
        "cached": 132149,
        "thoughts": 0,
        "tool": 0,
        "total": 132671
      },
      "model": "coder-model"
    },
    {
      "id": "05d0e834-4829-4882-8867-fb15fda0763c",
      "timestamp": "2025-11-06T04:05:21.750Z",
      "type": "qwen",
      "content": "I've identified and fixed the store ID issue. The problem was that the application was using a fallback value of 'default-store' when the store ID couldn't be found in localStorage, but the inventory was stored under actual store names like 'tienda1'.\n\nHere's what I fixed:\n\n1. Updated the useSale hook to prioritize the store ID from the authenticated user's information (from the global store) before falling back to localStorage\n2. Modified the hook to access the store state using `useAppStore.getState()` to get the current user's store ID\n3. The function now properly retrieves the cashier name from the authenticated user's information as well\n\nThese changes ensure that the correct store ID is used when creating sales and checking inventory, which should resolve the \"No hay inventario disponible\" error you were seeing. The inventory lookup will now happen in the correct store location rather than looking for inventory under a 'default-store' location that doesn't exist.",
      "thoughts": [],
      "tokens": {
        "input": 132915,
        "output": 194,
        "cached": 132430,
        "thoughts": 0,
        "tool": 0,
        "total": 133109
      },
      "model": "coder-model"
    },
    {
      "id": "b45ef660-7d9c-48b3-83ab-64cbb53aad1b",
      "timestamp": "2025-11-06T04:06:19.072Z",
      "type": "user",
      "content": "<system-reminder>You have powerful specialized agents at your disposal, available agent types are: backend-api-expert, business-logic-reviewer, component-documenter, project-manager, react-architect, react-developer, test-generator-vitest-rtl-playwright, ui-tailor. PROACTIVELY use the task tool to delegate user's task to appropriate agent when user's task matches agent capabilities. Ignore this message if user's task is not relevant to any agent. This message is for internal use only. Do not mention this to user in your response.</system-reminder>Errores en la actualización: [{\"error\":\"new row violates row-level security policy for table \\\"audit_inventory_adjustments\\\"\",\"inventory_id\":\"6be8c887-272c-44e8-896f-726d0d61fd2f\"}]Auth state changed: SIGNED_IN \nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDA1NTM5LCJpYXQiOjE3NjI0MDE5MzksImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvbSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyNDAxOTM5fV0sInNlc3Npb25faWQiOiJmN2ZjNjVkOS0xNWM5LTQyZjEtYTExNC05Zjg4ODc2MDE4MzMiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.NlmdMeDhMPHEtxWlMQV9Fe-IwQPqrw_VeBmFognxFrs\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762405539, refresh_token: \"fgy2aare5eh2\", user: {…}, weak_password: null }\nuseAppStore.js:133:15\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nEvento del sistema emitido: user_logged_in \nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp: \"2025-11-06T04:05:40.613Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario: \nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp: \"2025-11-06T04:05:40.613Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 7 offlineStorage.js:165:17\nErrores en la actualización atómica de inventario: \nArray [ {…} ]\n<anonymous code>:1:147461\nError al crear la venta: Error: Errores en la actualización: [{\"error\":\"new row violates row-level security policy for table \\\"audit_inventory_adjustments\\\"\",\"inventory_id\":\"6be8c887-272c-44e8-896f-726d0d61fd2f\"}]\n    atomicUpdateInventoryBatches supabaseAPI.js:1010\n<anonymous code>:1:147461\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E \nURL del mapa de fuente: installHook.js.map"
    },
    {
      "id": "73a3b164-0431-4c68-9d36-c7ccde5e7928",
      "timestamp": "2025-11-06T04:06:30.702Z",
      "type": "qwen",
      "content": "I see a new issue. The error is related to Row Level Security (RLS) policies on the `audit_inventory_adjustments` table. The atomic update function is trying to insert records into this audit table, but the RLS policy is preventing the insertion.\n\nThis issue is happening because the RLS policy on the `audit_inventory_adjustments` table is preventing the current user (or service role) from inserting records. I need to check the Supabase RLS policies and potentially update the atomic function to handle this properly.\n\nLet me check if there are any additional settings or functions that handle the RLS issue:\n\nThe issue is that the `atomic_update_inventory_batches_with_audit` function is trying to insert records into the `audit_inventory_adjustments` table, but the RLS policy is preventing the insert. I need to either adjust the RLS policy or use a different approach in the Supabase API.\n\nLet me check the supabaseAPI file to see if there's a way to use service role for this function:",
      "thoughts": [],
      "tokens": {
        "input": 134501,
        "output": 274,
        "cached": 132911,
        "thoughts": 0,
        "tool": 0,
        "total": 134775
      },
      "model": "coder-model"
    },
    {
      "id": "1cd6816f-eb9e-435d-8dd7-458428a6a9ad",
      "timestamp": "2025-11-06T04:06:38.876Z",
      "type": "qwen",
      "content": "The issue is with the RLS policy on the `audit_inventory_adjustments` table. The atomic function `atomic_update_inventory_batches_with_audit` is trying to insert into the audit table, but the policy is preventing the action.\n\nTo fix this, I should create a simpler function that just updates the inventory without the auditing functionality, or update the RLS policy to allow this action. However, since we want to maintain the audit trail, I'll implement a service role approach by using a Supabase Edge Function or by temporarily switching to service role within the RLS policy for this specific atomic operation.\n\nLet me update the function to use supabase admin (service role) for this specific operation to bypass RLS:\n\nFirst, I need to check how to access the Supabase service role:",
      "thoughts": [],
      "tokens": {
        "input": 135088,
        "output": 202,
        "cached": 134497,
        "thoughts": 0,
        "tool": 0,
        "total": 135290
      },
      "model": "coder-model"
    },
    {
      "id": "0e9fdb9b-3e53-4505-9a1f-23e320ce28d8",
      "timestamp": "2025-11-06T04:06:45.054Z",
      "type": "qwen",
      "content": "I'll need to use the service role key for this specific operation. To do this properly, I should create a separate function that uses a service role client. Let me create an admin client in the config file:",
      "thoughts": [],
      "tokens": {
        "input": 135850,
        "output": 79,
        "cached": 135084,
        "thoughts": 0,
        "tool": 0,
        "total": 135929
      },
      "model": "coder-model"
    },
    {
      "id": "7b218946-e99d-4c7d-b95e-0f7fbee99dba",
      "timestamp": "2025-11-06T04:07:26.086Z",
      "type": "qwen",
      "content": "I see that you only have the anon key in the .env file. For this RLS issue, you'd typically need a service role key to bypass RLS policies when necessary. However, for a more secure approach, I'll modify the implementation to use a Supabase Edge Function that runs with service role permissions. But before doing that, let me try to see if I can update the existing function to handle this issue by creating the atomic update function to work with the RLS policy.\n\nLooking at this error, the proper solution would be to either:\n\n1. Update the RLS policies to allow the specific atomic function to write to the audit table, or \n2. Modify the function to work within the existing RLS constraints\n\nBut since I can't change the RLS policies directly without knowing the exact database structure and existing policies, I'll modify the function to work with a different approach - by creating a separate function that doesn't require RLS changes, or by using the edge function approach.\n\nSince we know there's an edge function called `checkout_confirm` that should handle this entire process, let me update the sale service to use the edge function instead of the direct RPC call:",
      "thoughts": [],
      "tokens": {
        "input": 136273,
        "output": 1805,
        "cached": 135846,
        "thoughts": 0,
        "tool": 0,
        "total": 138078
      },
      "model": "coder-model"
    },
    {
      "id": "d818f386-a113-4073-94bc-fea8c9187aad",
      "timestamp": "2025-11-06T04:07:54.664Z",
      "type": "qwen",
      "content": "Wait, I need to do more comprehensive changes. I've replaced the entire content of the file. Let me revert and make a more targeted change:",
      "thoughts": [],
      "tokens": {
        "input": 138120,
        "output": 274,
        "cached": 136269,
        "thoughts": 0,
        "tool": 0,
        "total": 138394
      },
      "model": "coder-model"
    },
    {
      "id": "632fa14b-18ad-45f8-95ae-9798ac9472de",
      "timestamp": "2025-11-06T04:08:33.608Z",
      "type": "qwen",
      "content": "I made a mistake in my approach, as I changed too much of the file. Let me revert and take a more appropriate approach. First, let me restore the original file and then provide a more targeted fix:",
      "thoughts": [],
      "tokens": {
        "input": 138661,
        "output": 154,
        "cached": 138116,
        "thoughts": 0,
        "tool": 0,
        "total": 138815
      },
      "model": "coder-model"
    },
    {
      "id": "74aba3bc-5a13-4d9f-a644-c4fd231abffd",
      "timestamp": "2025-11-06T04:08:48.525Z",
      "type": "qwen",
      "content": "Let me restore the file using git and then make the appropriate changes:",
      "thoughts": [],
      "tokens": {
        "input": 138945,
        "output": 88,
        "cached": 138657,
        "thoughts": 0,
        "tool": 0,
        "total": 139033
      },
      "model": "coder-model"
    },
    {
      "id": "a4a8f442-c05e-4371-8abc-10c286cf5cbe",
      "timestamp": "2025-11-06T04:09:08.488Z",
      "type": "qwen",
      "content": "Let me check the current state of the file and restore the original import and function, but implement a better fix:",
      "thoughts": [],
      "tokens": {
        "input": 139156,
        "output": 63,
        "cached": 138941,
        "thoughts": 0,
        "tool": 0,
        "total": 139219
      },
      "model": "coder-model"
    },
    {
      "id": "51088cd8-ca15-4039-bb2b-86c46531646e",
      "timestamp": "2025-11-06T04:09:12.890Z",
      "type": "qwen",
      "content": "I can see the file got duplicated somehow. Let me fix this by restoring to clean state and applying the right changes:",
      "thoughts": [],
      "tokens": {
        "input": 142300,
        "output": 74,
        "cached": 139152,
        "thoughts": 0,
        "tool": 0,
        "total": 142374
      },
      "model": "coder-model"
    },
    {
      "id": "c4d186d1-8cc9-44c6-b16a-5a949c2c72a6",
      "timestamp": "2025-11-06T04:11:01.649Z",
      "type": "qwen",
      "content": "I can see the actual cart structure from the addToCart function. Now I need to fix the sale service to use the correct property names from the actual cart item. Let me look more closely at how cart items are structured:\n\nFrom the useAppStore, I can see that when adding to cart, it's spreading the product properties and adding quantity, so cart items have an `id` field that corresponds to the product's ID. Let me fix the sale.service.ts file:",
      "thoughts": [],
      "tokens": {
        "input": 421758,
        "output": 934,
        "cached": 142296,
        "thoughts": 0,
        "tool": 0,
        "total": 422692
      },
      "model": "coder-model"
    },
    {
      "id": "8ef1cba3-2599-4ad8-b2cd-14018f1772ca",
      "timestamp": "2025-11-06T04:11:46.702Z",
      "type": "qwen",
      "content": "The file has already been modified. Let me check the current state of the sale.service.ts file:",
      "thoughts": [],
      "tokens": {
        "input": 422776,
        "output": 60,
        "cached": 421754,
        "thoughts": 0,
        "tool": 0,
        "total": 422836
      },
      "model": "coder-model"
    },
    {
      "id": "dcdd7178-d104-4768-8f70-5ef1394212ae",
      "timestamp": "2025-11-06T04:12:36.575Z",
      "type": "qwen",
      "content": "I notice there are duplicate class definitions in the file. The file was modified incorrectly. Let me fix this by replacing it with the correct implementation that uses the checkout_confirm Edge Function:",
      "thoughts": [],
      "tokens": {
        "input": 425917,
        "output": 199,
        "cached": 422772,
        "thoughts": 0,
        "tool": 0,
        "total": 426116
      },
      "model": "coder-model"
    },
    {
      "id": "77c71722-cc40-4bdc-9051-46b0bc685b79",
      "timestamp": "2025-11-06T04:14:22.151Z",
      "type": "qwen",
      "content": "Based on my analysis, I can see the issue more clearly now. The problem is that there are two different `SaleService` classes defined in the same file, which is incorrect. Let me create a proper implementation that addresses the inventory deduction issue.\n\nLooking at the error in the logs and the structure of the file, I noticed that the correct approach would be to use the checkout_confirm Edge Function which is designed to handle both sales creation and inventory deduction atomically. I need to create a proper implementation:",
      "thoughts": [],
      "tokens": {
        "input": 426319,
        "output": 1735,
        "cached": 425913,
        "thoughts": 0,
        "tool": 0,
        "total": 428054
      },
      "model": "coder-model"
    },
    {
      "id": "3e44687a-786d-4b91-a71a-3f51c47eada0",
      "timestamp": "2025-11-06T04:15:53.712Z",
      "type": "qwen",
      "content": "I made some variable reference errors in the above implementation. Let me fix those variables:",
      "thoughts": [],
      "tokens": {
        "input": 428095,
        "output": 801,
        "cached": 426315,
        "thoughts": 0,
        "tool": 0,
        "total": 428896
      },
      "model": "coder-model"
    },
    {
      "id": "4a698464-cbf8-43f4-b112-b3b9957e55a1",
      "timestamp": "2025-11-06T04:16:51.790Z",
      "type": "qwen",
      "content": "I need to fix the variable names in the function. Let me re-read the file and make corrections:",
      "thoughts": [],
      "tokens": {
        "input": 428947,
        "output": 83,
        "cached": 428091,
        "thoughts": 0,
        "tool": 0,
        "total": 429030
      },
      "model": "coder-model"
    },
    {
      "id": "436c4a0d-939c-4ff8-953b-af4a04c35cb2",
      "timestamp": "2025-11-06T04:17:41.673Z",
      "type": "qwen",
      "content": "I can see that there's still an issue with the function. I need to import atomicUpdateInventoryBatches. Let me fix the import:",
      "thoughts": [],
      "tokens": {
        "input": 429833,
        "output": 154,
        "cached": 428943,
        "thoughts": 0,
        "tool": 0,
        "total": 429987
      },
      "model": "coder-model"
    },
    {
      "id": "2c3ecd2d-eafc-4f01-83f3-9bc2b80cdf61",
      "timestamp": "2025-11-06T04:19:28.659Z",
      "type": "qwen",
      "content": "Now let me fix the remaining variable name errors:",
      "thoughts": [],
      "tokens": {
        "input": 430029,
        "output": 526,
        "cached": 429829,
        "thoughts": 0,
        "tool": 0,
        "total": 430555
      },
      "model": "coder-model"
    },
    {
      "id": "77fd1a06-4915-4ef9-9b82-eaf8abed5766",
      "timestamp": "2025-11-06T04:19:46.018Z",
      "type": "user",
      "content": "<system-reminder>You have powerful specialized agents at your disposal, available agent types are: backend-api-expert, business-logic-reviewer, component-documenter, project-manager, react-architect, react-developer, test-generator-vitest-rtl-playwright, ui-tailor. PROACTIVELY use the task tool to delegate user's task to appropriate agent when user's task matches agent capabilities. Ignore this message if user's task is not relevant to any agent. This message is for internal use only. Do not mention this to user in your response.</system-reminder>Errores en la actualización: [{\"error\":\"new row violates row-level security policy for table \\\"audit_inventory_adjustments\\\"\",\"inventory_id\":\"6be8c887-272c-44e8-896f-726d0d61fd2f\"}]Auth state changed: SIGNED_IN \nObject { access_token: \"eyJhbGciOiJIUzI1NiIsImtpZCI6ImYxc1QzVkJncG5sU3haNkMiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3BnYmVmcXpscnZqbnN5bWlnZm12LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI2ODNiZWRlOS1iZWQyLTRhYjUtOGY4OS1mNGY4ZjUxNThlYmQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzYyNDA1NTM5LCJpYXQiOjE3NjI0MDE5MzksImVtYWlsIjoibHJvbWVyb3JlejE0QGdtYWlsLmNvbSIsInBob25lIjoiIiwiYXBwX21ldGFkYXRhIjp7InByb3ZpZGVyIjoiZW1haWwiLCJwcm92aWRlcnMiOlsiZW1haWwiXX0sInVzZXJfbWV0YWRhdGEiOnsiZW1haWxfdmVyaWZpZWQiOnRydWV9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzYyNDAxOTM5fV0sInNlc3Npb25faWQiOiJmN2ZjNjVkOS0xNWM5LTQyZjEtYTExNC05Zjg4ODc2MDE4MzMiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.NlmdMeDhMPHEtxWlMQV9Fe-IwQPqrw_VeBmFognxFrs\", token_type: \"bearer\", expires_in: 3600, expires_at: 1762405539, refresh_token: \"fgy2aare5eh2\", user: {…}, weak_password: null }\nuseAppStore.js:133:15\nuseAppStore initialize function called. useAppStore.js:1969:13\nApp already initialized, skipping initialization useAppStore.js:1973:15\nEvento del sistema emitido: user_logged_in \nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp: \"2025-11-06T04:05:40.613Z\" }\nsystemEventService.js:48:13\nManejando inicio de sesión de usuario: \nObject { userId: \"683bede9-bed2-4ab5-8f89-f4f8f5158ebd\", userName: \"Administrador\", userEmail: \"lromerorez14@gmail.com\", role: \"admin\", storeId: \"tienda1\", timestamp: \"2025-11-06T04:05:40.613Z\" }\nsystemEventService.js:164:13\ncarts data updated successfully 7 offlineStorage.js:165:17\nErrores en la actualización atómica de inventario: \nArray [ {…} ]\n<anonymous code>:1:147461\nError al crear la venta: Error: Errores en la actualización: [{\"error\":\"new row violates row-level security policy for table \\\"audit_inventory_adjustments\\\"\",\"inventory_id\":\"6be8c887-272c-44e8-896f-726d0d61fd2f\"}]\n    atomicUpdateInventoryBatches supabaseAPI.js:1010\n<anonymous code>:1:147461\nError de mapa de fuente: Error: JSON.parse: unexpected character at line 1 column 1 of the JSON data\nStack in the worker:parseSourceMapInput@resource://devtools/client/shared/vendor/source-map/lib/util.js:163:15\n_factory@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:1069:22\nSourceMapConsumer@resource://devtools/client/shared/vendor/source-map/lib/source-map-consumer.js:26:12\n_fetch@resource://devtools/client/shared/source-map-loader/utils/fetchSourceMap.js:83:19\n\nURL del recurso: http://localhost:5173/%3Canonymous%20code%3E \nURL del mapa de fuente: installHook.js.map\n\n/compress"
    }
  ]
}